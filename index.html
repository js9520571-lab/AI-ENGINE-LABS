<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-Design Studio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        canvas { border: 1px solid #333; border-radius: 8px; background: white; }
        body { background: #111; color: white; }
    </style>
</head>
<body class="flex flex-col items-center p-10">

    <h1 class="text-3xl font-bold mb-6 text-blue-400">Q-DESIGN STUDIO</h1>

    <div class="flex gap-4 mb-6 bg-gray-800 p-4 rounded-2xl shadow-xl">
        <button onclick="addRect()" class="bg-blue-600 px-4 py-2 rounded-lg font-bold hover:bg-blue-500">Add Square</button>
        <button onclick="addCircle()" class="bg-purple-600 px-4 py-2 rounded-lg font-bold hover:bg-purple-500">Add Circle</button>
        <button onclick="addText()" class="bg-emerald-600 px-4 py-2 rounded-lg font-bold hover:bg-emerald-500">Add Text</button>
        <button onclick="deleteObject()" class="bg-red-600 px-4 py-2 rounded-lg font-bold hover:bg-red-500">Delete</button>
        <button onclick="downloadDesign()" class="bg-white text-black px-4 py-2 rounded-lg font-bold">Download PNG</button>
    </div>

    <canvas id="canvas" width="800" height="500"></canvas>

    <script>
        // Initialize the Fabric Canvas
        const canvas = new fabric.Canvas('canvas');

        // Function: Add Square
        function addRect() {
            const rect = new fabric.Rect({
                left: 100, top: 100, fill: '#3b82f6', width: 100, height: 100, cornerRadius: 10
            });
            canvas.add(rect);
        }

        // Function: Add Circle
        function addCircle() {
            const circle = new fabric.Circle({
                left: 200, top: 150, fill: '#a855f7', radius: 50
            });
            canvas.add(circle);
        }

        // Function: Add Text (Editable)
        function addText() {
            const text = new fabric.IText('Type Something...', {
                left: 300, top: 200, fontFamily: 'Arial', fill: '#10b981'
            });
            canvas.add(text);
        }

        // Function: Delete Selected Object
        function deleteObject() {
            const activeObject = canvas.getActiveObject();
            if (activeObject) {
                canvas.remove(activeObject);
            }
        }

        // Function: Download as Image
        function downloadDesign() {
            const dataURL = canvas.toDataURL({ format: 'png', quality: 1 });
            const link = document.createElement('a');
            link.href = dataURL;
            link.download = 'my-design.png';
            link.click();
        }
    </script>
</body>
</html>
